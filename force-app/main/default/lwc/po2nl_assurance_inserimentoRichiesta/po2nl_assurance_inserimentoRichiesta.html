<template>
    <!-- ROOT CMP -->
    <c-po2nl_root_section help-blocks={helpBlocks} help-header={helpHeader} root-text={rootText} 
            current-text={currentText} help-btn-visible={helpBtnVisible}>
     </c-po2nl_root_section>
    <!-- Fine Spinner -->
    <div class="lwc-box">
        <!-- Spinner -->
        <div id="spinnerId" class="slds-spinner_container slds-hide" style="position: fixed;">
            <div class="slds-spinner_brand  slds-spinner slds-spinner_large slds-is-relative" role="alert">
                <span class="slds-assistive-text">Loading</span>
                <div class="slds-spinner__dot-a"></div>
                <div class="slds-spinner__dot-b"></div>
            </div>
        </div>
        <template if:false={notDisplayForm}>
            <!-- progress indicator custom -->
            <c-po2nl_progress_indicator steps={steps} current-step={index} line-style='width:30%'></c-po2nl_progress_indicator>
            <!-- /progress indicator custom -->

            <!-- form blocks -->
            <c-po2nl_dynamic_form_block data-step-id='1' inputs-items={inputsItems}  resume-src={userImg} class="slds-m-bottom_large slds-hide" ></c-po2nl_dynamic_form_block>
            <c-po2nl_dynamic_form_block data-step-id='2' inputs-items={inputsItems2} resume-src={phoneImg} class="slds-m-bottom_large slds-hide" ></c-po2nl_dynamic_form_block>
            <!-- /form blocks -->

            <!-- resume cmp -->
            <!--  forms-data={resumes} -->
            <c-po2nl_resume data-step-id={lastIndex} onresumeselect={handleNavigateTo} is-bozza={isNewOrBozza} forms-data={Resumes} class="slds-hide"></c-po2nl_resume>
            <!-- /resume cmp -->
            <!-- action buttons -->
            
            <div class="slds-clearfix slds-p-vertical_small slds-p-horizontal_x-small">
                <template if:true={isNewOrBozza}>
                    <div class="slds-float_left">
                        <template if:false={isFirstOrLast}>
                            <lightning-button variant="brand-outline" class="btn-action prev" label={label.PO2_Previous} title="prev" onclick={handlePrevious}></lightning-button>
                        </template> 
                    </div>
                    <div class="slds-float_right">
                        <template if:false={isLast}>
                            <lightning-button class="btn-action" variant="brand-outline" label={label.PO2_Next} title="next" onclick={handleNext}></lightning-button>
                        </template>
                        <template if:true={isLast}>
                            <lightning-button variant="neutral" class="btn-action slds-m-right_small" label={label.PO2_Elimina} title="Cancel" onclick={handleCancel}></lightning-button>
                            <lightning-button variant="brand-outline" class="btn-action" label={label.PO2_send} title="Save" onclick={handleSave}></lightning-button>
                        </template>
                    </div>
                </template>
            </div>


            <!-- /action buttons -->

        </template>
        <template if:true={saved}>
            <!-- After save action -->
            <c-po2nl_success_operation title="Inserimento avvenuto con successo" text-info=" description text goes here" fields={saveViewFields} onaction={handleSuccessNext}></c-po2nl_success_operation>
            <!-- After save action -->
        </template>
        <template if:true={openDeleteModal}>
            <c-po2nl_confirm_delete_modal ondeleteaction={handleDeleteNext} openmodal={openDeleteModal}> </c-po2nl_confirm_delete_modal>
        </template>
        <!-- After save action -->
        <!-- <c-po2nl_success_operation onaction={handleSuccessNext}></c-po2nl_success_operation> -->
        <!-- After save action -->
            
    </div>
</template>