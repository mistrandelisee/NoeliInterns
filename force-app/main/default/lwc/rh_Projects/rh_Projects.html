<template>
    <template if:true={showList}>
        <div class="slds-clearfix">
            <!-- <button class="slds-button slds-button_brand slds-float_right">New Project</button> -->
            <lightning-button label="New Project" class="slds-float_right" onclick={handlecreate}></lightning-button>
        </div>
        <div>
            
                <!-- <div class="slds-align_absolute-center"> -->
                        <template class="slds-align_absolute-center" for:each={visibleProjects} for:item="acc">
                            <div class="slds-grid slds-gutters slds-align_absolute-center slds-var-m-vertical_medium" key={acc.Name}>
                                <div class="slds-col" >
                                    <ul class="slds-listbox slds-listbox_vertical box-border">
                                    
                                        <li class="slds-listbox__item" onclick={handleChange}  data-id={acc.project.Id} data-name={acc.Name}>
                                        <h1 class="h1-style">  
                                            <p class="slds-listbox__option slds-listbox__option_plain slds-media slds-media_small">
                                                {acc.project.Name}
                                            </p>
                                        </h1>
                                        <h3 class="h2-style">  
                                            <p class="slds-listbox__option slds-listbox__option_plain slds-media slds-media_small">
                                                {acc.project.Description__c}
                                            </p>
                                        </h3>
                                        </li>
                                    
                                    </ul> 
                                </div>
                            </div>
                        </template>
                <!-- </div> -->
        </div>
        <div slot="footer" class="slds-var-m-vertical_medium">
            <c-pagination records={initial} record-size="3" onupdate={updateProjectHandler}></c-pagination>
        </div>
    </template>
    <template if:true={showDetails}>
        <div class="slds-clearfix">
            <!-- <button class="slds-button slds-button_brand slds-float_right">New Project</button> -->
            <lightning-button label="Back" class="slds-float_left" onclick={handleBack}></lightning-button>
            <lightning-button label="Edit" class="slds-float_right" onclick={handleEdit}></lightning-button>
        </div>
        <div class="slds-var-m-vertical_medium">
            <c-rh_display_fields output-fields={curentDetails} title="Project Details"></c-rh_display_fields>
        </div>
            <div class="slds-page-header slds-page-header_record-home slds-var-m-vertical_medium">
                <p class="slds-align_absolute-center lds-page-header__title slds-truncate"> Members</p>
            </div>
            <div class="slds-page-header__row slds-page-header__row_gutters">
                <div class="slds-scrollable slds-grid slds-gutters slds-page-header__col-details slds-align_absolute-center" style="height:10rem;width:14rem">
                        <ol class="slds-list_ordered">
                            <template class="slds-align_absolute-center" for:each={memberProjects} for:item="acc">
                                <li key={acc.RH_Contact__r.Name}>{acc.RH_Contact__r.Name}</li>
                            
                            </template>
                        </ol>
                </div>
            </div>
    </template>
    
    <template if:true={showEdit}>
        <div class="slds-clearfix">
            <!-- <button class="slds-button slds-button_brand slds-float_right">New Project</button> -->
            <lightning-button label="Back" class="slds-float_left" onclick={handleBack1}></lightning-button>
            <lightning-button label="Manage Members" class="slds-float_right" onclick={handleManage}></lightning-button>
        </div>
        <div class="slds-var-m-vertical_medium">
            <c-rh_edit_project  record-id={curentProject}></c-rh_edit_project>
        </div>
    </template>

    <template if:true={showManage}>
        <div class="slds-clearfix">
            <!-- <button class="slds-button slds-button_brand slds-float_right">New Project</button> -->
            <lightning-button label="Back" class="slds-float_left" onclick={handleBack1}></lightning-button>
        </div>
        <div class="slds-var-m-vertical_medium">
            <c-rh_add_and_remove  selected={memberSelected} initial={memberNotSelected}></c-rh_add_and_remove>
        </div>
        <div class="slds-var-m-top_medium slds-clearfix">
            <lightning-button variant="brand"  label="Save" class="slds-float_right">
            </lightning-button>
        </div>
    </template>

    <template if:true={showInsertform}>
        <div class="slds-clearfix">
            <!-- <button class="slds-button slds-button_brand slds-float_right">New Project</button> -->
            <lightning-button label="Back" class="slds-float_left" onclick={handleBack111}></lightning-button>
        </div>
        <div class="slds-var-m-vertical_medium">
            <c-rh_dynamic_form  inputs-items={inputsItems}></c-rh_dynamic_form>
        </div>
        <div class="slds-clearfix">
            <!-- <button class="slds-button slds-button_brand slds-float_right">New Project</button> -->
            <lightning-button label="Next" class="slds-float_right" onclick={handleNext}></lightning-button>
        </div>
    </template>

    <template if:true={showAddMembers}>
        <div class="slds-clearfix">
            <lightning-button label="Back" class="slds-float_left" onclick={handleBack111}></lightning-button>
        </div>
        <div class="slds-var-m-vertical_medium">
            <c-rh_add_and_remove   initial={allInitialContacts}></c-rh_add_and_remove>
        </div>
        <div class="slds-clearfix">
            <lightning-button label="Save" class="slds-float_right" onclick={handleSave}></lightning-button>
        </div>
    </template>
</template>